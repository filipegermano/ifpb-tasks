<!DOCTYPE html>
<html ng-app="iftasks">
    <head>
        <title>IFPB-tasks</title>
        <link href="../../../libs/bootstrap/css/bootstrap.min.cerulean.css" rel="stylesheet" type="text/css">
        <link href="../../../libs/font-awesome-4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="../../../stylesheets/index.css" rel="stylesheet" type="text/css">
        <link href="../../../stylesheets/tasks.css" rel="stylesheet" type="text/css"> 
        <script src="../../../libs/bootstrap/js/jquery.min.js" type="text/javascript"></script>
        <script src="../../../libs/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="../../../libs/angular/angular.min.js" type="text/javascript"></script>
        <script src="../../../js/angular-modules/app.js" type="text/javascript"></script>
        <script src="../../../js/angular-modules/task-module.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="container" ng-controller="TaskController as taskCtrl">
            <h1 class="text-center">IFPB-tasks <small>Tarefa recebida</small></h1>

            <p>{{userCtrl.user.id}}</p>
            <div id="tasks" class="col-md-6 col-md-offset-3">
                <div class="task" ng-repeat="task in taskCtrl.tasksAssigned">
                    <h4 class="taskName">{{task.name}}</h4>
                    <p class="taskDescription">{{task.description}}</p>
                    <p class="taskCreatedAt"><span class="fa fa-calendar"></span>
                        Data da criação: {{ task.createdAt | date : 'dd/MM/yyyy h:mm:ss a'}}</p>
                    <p class="taskDeadline"><span class="fa fa-calendar"></span> 
                        Data limite: {{task.deadline | date : 'dd/MM/yyyy'}}</p>

                    <p class="taskPriority">
                        <span class="fa fa-warning" 
                              ng-class="task.priority == 'Baixa' ? 'baixa' : (task.priority == 'Média' ? 'media' : 'alta')"></span>                                            Prioridade {{task.priority}}</p>
                    <!--                    <p>{{task.assignedTo}}</p>-->

                    <h5>Responsáveis</h5>
                    <div class="assignedTo" ng-repeat="(key, friend) in task.assignedTo">
                        <p class="taskFriendName">{{friend.friendName}}</p>
                    </div>
                    <span class="label pull-right labelStatus" ng-class="task.status === 'em aberto' ? 'label-danger' :
                     (task.priority === 'em execução' ? 'label-primary' : 'label-success')">{{task.status}}</span>
                </div>
            </div>
        </div>
    </body>
</html>